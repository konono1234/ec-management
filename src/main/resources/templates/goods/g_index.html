<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" >
<head>
<meta charset="UTF-8">
<title th:text="#{goods.index.title}">goods.index.title</title>
<link th:href="@{/webjars/bootstrap/4.5.3/css/bootstrap.min.css}" rel="stylesheet"/>
<script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}"></script>
<link th:href="@{/css/stylesheet.css}" rel="stylesheet"/>
<script th:src="@{/js/jquery.tablesorter.min.js}" ></script>
<script>
$(document).ready(function(){
	$('#index-table').tablesorter();
});
</script>
</head>
<body>
<div class="sticky-top" style="background-color: white">
	<div class="headerNav">
		<div class="container">
			<div class="row headerNavBox">
			<a class="pull-left" href="http://www.comsize.co.jp"><img th:src="@{/images/comsize.png}" width=120px></a>
			<a style="color: #3366FF" class="col-xs-4 col-sm-2 headerNavBtn center" th:href="@{customer}" th:text="#{customer.index.title}" ></a>
			<a style="color: #3366FF" class="col-xs-4 col-sm-2 headerNavBtn center" th:href="@{goods}" th:text="#{goods.index.title}"></a>
			<a style="color: #3366FF" class="col-xs-4 col-sm-2 headerNavBtn center" th:href="@{order}" th:text="#{order.index.title}"></a>
			
			</div>
		</div>
	</div>
	<div class="header"></div>
</div>

<div>
	<div class="container">
		<div class="row">
			<div class="col-xs-12 title">
				<p class="title">商品情報一覧</p>
			</div>
		</div>
	</div>
</div>

<div class="container">
	<div class="row">
		<div class="col-xm-12 center">
			<div th:if="${errorMessage}"><p style="color: red"  th:text="${errorMessage}"></p><br></div>
			<div th:if="${emptyMessage}"><p style="color: red"  th:text="${emptyMessage}"></p><br></div>
			<div th:if="${deleteMessage}"><p style="color: red"  th:text="${deleteMessage}"></p><br></div>
		</div>
	</div>
</div>

<div class="container">
	<div class="row">
		<form class="form-inline" action="/goods/g_search" th:action="@{/goods/g_search}" method="post" th:object="${goodsForm}">
			<div class= "form-group">
			<select class="form-control" name="key" th:field="*{key}" >
				<option value="goods_no" th:text="#{goods_no}"></option>
				<option value="goods_name" th:text="#{goods_name}"></option>
				<option value="price" th:text="#{price}"></option>
				<option value="stock" th:text="#{stock}"></option>
				<option value="category_no" th:text="#{category_no}"></option>
				<option value="reg_date" th:text="#{reg_date}"></option>
			</select>
			<span>
				<input type="text" class="form-control"  name="keyward"  th:field="*{keyword}" size="30" placeholder="キーワードを入力してください" />	
				<span>
					<input type="submit" class="btn btn-info" value="検索" />
				</span>
			</span>
			</div>
		</form>
		<a class="btn btn-primary right" th:href="@{/goods/g_create}" th:text="#{goods.create.title}"></a>
	</div>
</div>

<br>

<div class="container w-100 p-3">
	<div class="row">
		<div class="table-responsive">
			<table class="table table-hover table-sm" id="index-table">
			<tr>
				<th th:text="#{goods_no}"></th>
				<th th:text="#{goods_name}"></th>
				<th th:text="#{price}"></th>
				<th th:text="#{stock}"></th>
				<th th:text="#{category_no}"></th>
				<th th:text="#{reg_date}"></th>
				<th></th>
			</tr>
			<tr th:each="g_index : ${goodsList}">
				<td th:text="${g_index.goods_no}"></td>
				<td th:text="${g_index.goods_name}"></td>
				<td th:text="${g_index.price}"></td>
				<td th:text="${g_index.stock}"></td>
				<td>
					<span th:if="${g_index.category_no eq 1}" ><div>工具</div></span>
					<span th:if="${g_index.category_no eq 2}" ><div>農業・園芸資材</div></span>
					<span th:if="${g_index.category_no eq 3}" ><div>未定義</div></span>
				</td>
				<td th:text="${g_index.reg_date}"></td>
				<td>
					<a th:href="@{/goods/{goods_no}(goods_no=${g_index.goods_no})}">詳細</a>
				</td>
			</tr>
			</table>
		</div>
	</div>
</div>
</body>
</html>